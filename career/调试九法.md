## 调试九法

### 1.理解系统

1. 阅读手册；
2. 知道系统正常工作状态；
3. 知道工作流程；
4. 了解你调试工具；
5. 查阅细节。

### 2.制造失败

1. 制造失败：可以观察它；可以专心查找原因；可以判断是否已修复问题；
2. 从头开始。是这从一个已知的状态开始，例如重启计算机；
3. 引发失败，不要模拟失败：引发失败和模拟失败有非常大的差别；
4. 查找不受控制的条件（导致间歇性失败），改变能够改变的每个变量，直到再次失败；
5. 记录每件事情，找到间歇性bug特征；

### 3.不要想，而要看

1. 观察失败，看到发生故障的全过程；
2. 查看细节，根据这些细节来查看分析找到问题原因；
3. 植入插装工具。使用源代码调试器、调试日志、状态消息、信号灯等；
4. 添加外部插装工具，使用分析器、示波器、量表等；
5. 不要害怕深入研究；
6. 注意海森堡效应，不要让仪器影响系统（测试工具影响被测系统）；
7. 猜（推）测只是为了确定搜索重点。

### 4.分而治之

1. 当排除了所有的不可能，不管留下了什么，那必定都是事实。
2. 通过逐次逼近缩小搜索范围，向目标追踪，找到目标范围；
3. 确定bug位于哪一侧；
4. 使用易于查看的测试模式；
5. 从有问题的一端开始搜索；
6. 消除噪声干扰，修复已知bug。

### 5.一次只改一个地方

1. 隔离关键因素；
2. 「用双手抓住黄铜杆」，了解问题之前不要冲动；
3. 一次只改一个测试；
4. 与正常情况比较；
5. 确定自从上一次正常工作以来改变了什么地方。

### 6.保持审计跟踪

1. 记录每步操作、顺序和结果；
2. 分析细节，把事件关联到一起；
3. 把事情记录下来（备忘录）。

### 7.检查插头

1. 怀疑自己的假设；
2. 从头开始检查；
3. 测试测试工具；

### 8.获得全新观点

1. 咨询专家，寻求帮助，获取专业知识；
2. 借鉴别人的经验；
3. 报告事实现象，而不要讲理论；
4. 即使不是十分肯定，也可以提出问题。

### 9.如果不修复bug，它将依然存在

1. 检查问题确实已经被修复；
2. 检查确实是修复措施解决了问题；
3. 从根本上解决问题；